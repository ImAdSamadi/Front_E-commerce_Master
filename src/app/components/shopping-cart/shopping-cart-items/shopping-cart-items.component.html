<ng-container *ngIf="shoppingCart">

  <table class="table table-light table-borderless table-hover text-center mb-0">
    <thead class="thead-dark">
    <tr>
      <th>Products</th>
      <th>Price</th>
      <th>Quantity</th>
      <th>Total</th>
      <th>Remove</th>
      <th></th>
    </tr>
    </thead>
    <tbody class="align-middle">
<!--    <tr *ngFor="let item of shoppingCart.items">-->
<!--      <td class="align-middle" style="cursor: pointer"-->
<!--          (click)="goToProduct(item.product, item.product.pickedSize, item.product.pickedColor)">-->
<!--        <img [src]="item.product.productImagesBas64[0]" alt="" style="width: 50px;" />-->
<!--        {{item.product.name}} {{item.product.pickedSize}}-->
<!--      </td>-->
<!--      <td class="align-middle">{{item.product.productPrice.symbol}}{{item.product.productPrice.price}}</td>-->
<!--      <td class="align-middle">-->
<!--        <div class="input-group quantity mx-auto" style="width: 100px;">-->

<!--          &lt;!&ndash; Minus Button &ndash;&gt;-->
<!--          <button class="btn btn-sm btn-primary btn-minus" (click)="decreaseQuantity(item)">-->
<!--            <i class="fa fa-minus"></i>-->
<!--          </button>-->

<!--          <input-->
<!--            type="text"-->
<!--            class="form-control form-control-sm bg-secondary border-0 text-center"-->
<!--            [value]="item.quantity"-->
<!--            readonly-->
<!--          />-->

<!--          &lt;!&ndash; Plus Button &ndash;&gt;-->
<!--          <button class="btn btn-sm btn-primary btn-plus" (click)="increaseQuantity(item)">-->
<!--            <i class="fa fa-plus"></i>-->
<!--          </button>-->

<!--        </div>-->
<!--      </td>-->

<!--      <td class="align-middle">-->
<!--        {{item.product.productPrice.symbol}}{{item.quantity*item.product.productPrice.price}}-->
<!--      </td>-->

<!--      <td class="align-middle">-->
<!--        <button class="btn btn-sm btn-danger" (click)="onDeleteItem(item.product)">-->
<!--          <i class="fa fa-times"></i>-->
<!--        </button>-->
<!--      </td>-->


<!--      <td class="align-middle text-center">-->
<!--        <button-->
<!--          type="button"-->
<!--          class="btn btn-sm d-flex justify-content-center align-items-center"-->
<!--          [ngClass]="{-->
<!--            'btn-primary': item.selected,-->
<!--            'bg-white': !item.selected-->
<!--          }"-->
<!--          [style.color]="item.selected ? 'black' : 'black'"-->
<!--          style="border: 1px solid #ccc; padding: 0.25rem 0.4rem;"-->
<!--          (click)="onToggleSelection(item)"-->
<!--        >-->
<!--          <i class="fa fa-check"></i>-->
<!--        </button>-->
<!--      </td>-->


<!--    </tr>-->

      <tr
        *ngFor="let item of shoppingCart.items"
        [style.opacity]="!item.selected ? '0.5' : '1'"
        [ngClass]="{ 'disabled-row': !item.selected }"
        [style.pointerEvents]="!item.selected ? 'none' : 'auto'"
      >
        <td class="align-middle" style="cursor: pointer"
            (click)="goToProduct(item.product, item.product.pickedSize, item.product.pickedColor)">
          <img [src]="item.product.productImagesBas64[0]" alt="" style="width: 50px;" />
          {{ item.product.name }} {{ item.product.pickedSize }}
        </td>

        <td class="align-middle">
          {{ item.product.productPrice.symbol }}{{ item.product.productPrice.price }}
        </td>

        <td class="align-middle">
          <div class="input-group quantity mx-auto" style="width: 100px;">
            <button class="btn btn-sm btn-primary btn-minus" (click)="decreaseQuantity(item)">
              <i class="fa fa-minus"></i>
            </button>

            <input
              type="text"
              class="form-control form-control-sm bg-secondary border-0 text-center"
              [value]="item.quantity"
              readonly
            />

            <button class="btn btn-sm btn-primary btn-plus" (click)="increaseQuantity(item)">
              <i class="fa fa-plus"></i>
            </button>
          </div>
        </td>

        <td class="align-middle">
          {{ item.product.productPrice.symbol }}{{ item.quantity * item.product.productPrice.price }}
        </td>

        <td class="align-middle">
          <button class="btn btn-sm btn-danger" (click)="onDeleteItem(item.product)">
            <i class="fa fa-times"></i>
          </button>
        </td>

        <!-- Selection Button (EXCLUDED from pointer-events: none) -->
        <td class="align-middle text-center" style="pointer-events: auto;">
          <button
            type="button"
            class="btn btn-sm d-flex justify-content-center align-items-center"
            [ngClass]="{
              'bg-white text-dark': item.selected
            }"
            style="border: 1px solid #ccc; padding: 0.25rem 0.4rem;"
            (click)="onToggleSelection(item)"
          >
            <i class="fa fa-check" [ngClass]="{ 'text-white': !item.selected }"></i>
          </button>
        </td>


      </tr>



    </tbody>
  </table>



</ng-container>
